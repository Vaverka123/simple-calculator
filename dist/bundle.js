(()=>{let e,t="",n="",a=!1;function r(){document.getElementById("main-input").value=t||"0"}function o(e){const n=e.target.getAttribute("data-value"),a=e.target.getAttribute("data-type");"number"===a?c(n):"sign"===a?""!==t&&(t=(-1*parseFloat(t)).toString(),r()):"percent"===a?i():"operator"===a?u(n):"clear"===a?l():"equal"===a&&d()}function c(e){a&&l(),""===t&&"0"===e||"."===e&&t.includes(".")||(t=t.toString()+e.toString(),r())}function i(){""!==t&&(t=(.01*parseFloat(t)).toString(),r(),a=!0)}function u(r){""!==t&&(""!==n&&d(),e=r,n=t,t="",a=!1)}function d(){if(!e)return;let o;const c=parseFloat(n),i=parseFloat(t);switch(e){case"+":o=c+i;break;case"-":o=c-i;break;case"*":o=c*i;break;case"/":if(0===i)return t="undefined",r(),void(a=!0);o=c/i;break;default:return}t=o.toString(),e=void 0,n="",r(),a=!0}function l(){t="",n="",e=void 0,r()}document.getElementById("main-input").addEventListener("paste",(function(e){e.preventDefault()})),document.querySelectorAll("button").forEach((e=>{e.addEventListener("click",o)}));const s=e=>{document.documentElement.className=e};document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector('button[data-type="color-theme"]');e.addEventListener("click",(()=>{"☀️"===e.innerHTML?(e.innerHTML="🌙",s("bright")):(e.innerHTML="☀️",s("dark"))}))})),document.addEventListener("keydown",(function(e){const t=e.key;t>="0"&&t<="9"?c(t):"."===t?c("."):"+"===t||"-"===t||"*"===t||"/"===t?u(t):"%"===t?i():"Enter"===t||"="===t?(e.preventDefault(),d()):"Delete"!==t&&"Escape"!==t&&"Backspace"!==t||l()}))})();